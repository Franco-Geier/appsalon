{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaAnterior","paginaSiguiente","consultarAPI","nombreCliente","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","async","url","resultado","fetch","mostrarServicios","json","error","console","log","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value"],"mappings":"AAAA,IAAAA,KAAA,EACA,MAAAC,YAAA,EACAC,UAAA,EAEAC,KAAA,CACAC,OAAA,GACAC,MAAA,GACAC,KAAA,GACAC,UAAA,IAQA,SAAAC,aACAC,iBACAC,OACAC,mBACAC,iBACAC,kBACAC,eACAC,gBAIA,SAAAN,iBAEA,MAAAO,EAAAC,SAAAC,cAAA,YACAF,GACAA,EAAAG,UAAAC,OAAA,WAIA,MAAAC,EAAA,SAAArB,KACAiB,SAAAC,cAAAG,GACAF,UAAAG,IAAA,WAGA,MAAAC,EAAAN,SAAAC,cAAA,WACAK,GACAA,EAAAJ,UAAAC,OAAA,UAIAH,SAAAC,cAAA,eAAAlB,UACAmB,UAAAG,IAAA,UAIA,SAAAZ,OACAO,SAAAO,iBAAA,gBAEAC,QAAAC,IACAA,EAAAC,iBAAA,SAAA,SAAAC,GACA5B,KAAA6B,SAAAD,EAAAE,OAAAC,QAAA/B,MACAS,iBACAE,wBAMA,SAAAA,mBACA,MAAAC,EAAAK,SAAAC,cAAA,aACAL,EAAAI,SAAAC,cAAA,cAEA,IAAAlB,MACAY,EAAAO,UAAAG,IAAA,WACAT,EAAAM,UAAAC,OAAA,YACA,IAAApB,MACAY,EAAAO,UAAAC,OAAA,WACAP,EAAAM,UAAAG,IAAA,aAEAV,EAAAO,UAAAC,OAAA,WACAP,EAAAM,UAAAC,OAAA,YAEAX,iBAIA,SAAAG,iBACAK,SAAAC,cAAA,aACAS,iBAAA,SAAA,WACA3B,MApFA,IAqFAA,OAEAW,uBAKA,SAAAE,kBACAI,SAAAC,cAAA,cACAS,iBAAA,SAAA,WACA3B,MA9FA,IA+FAA,OAEAW,uBAKAqB,eAAAlB,eACA,IACA,MAAAmB,EAAA,iDACAC,QAAAC,MAAAF,GAEAG,uBADAF,EAAAG,QAEA,MAAAC,GACAC,QAAAC,IAAAF,IAKA,SAAAF,iBAAA7B,GACAA,EAAAkB,QAAAgB,IACA,MAAAC,GAAAA,EAAAtC,OAAAA,EAAAuC,OAAAA,GAAAF,EAEAG,EAAA3B,SAAA4B,cAAA,KACAD,EAAAzB,UAAAG,IAAA,mBACAsB,EAAAE,YAAA1C,EAEA,MAAA2C,EAAA9B,SAAA4B,cAAA,KACAE,EAAA5B,UAAAG,IAAA,mBACAyB,EAAAD,YAAA,IAAAH,EAEA,MAAAK,EAAA/B,SAAA4B,cAAA,OACAG,EAAA7B,UAAAG,IAAA,YACA0B,EAAAjB,QAAAkB,WAAAP,EACAM,EAAAE,QAAA,WACAC,oBAAAV,IAGAO,EAAAI,YAAAR,GACAI,EAAAI,YAAAL,GAEA9B,SAAAC,cAAA,cAAAkC,YAAAJ,KAKA,SAAAG,oBAAAV,GACA,MAAAC,GAAAA,GAAAD,GACAlC,UAAAA,GAAAJ,KAGAkD,EAAApC,SAAAC,cAAA,sBAAAwB,OAGAnC,EAAA+C,KAAAC,GAAAA,EAAAb,KAAAA,IAEAvC,KAAAI,UAAAA,EAAAiD,OAAAD,GAAAA,EAAAb,KAAAA,GACAW,EAAAlC,UAAAC,OAAA,kBAGAjB,KAAAI,UAAA,IAAAA,EAAAkC,GACAY,EAAAlC,UAAAG,IAAA,iBAKA,SAAAP,gBACAZ,KAAAC,OAAAa,SAAAC,cAAA,WAAAuC,MAzJAxC,SAAAU,iBAAA,oBAAA,WACAnB","file":"bundle.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    nombre: \"\",\r\n    fecha: \"\",\r\n    hora: \"\",\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    iniciarApp();\r\n});\r\n\r\n\r\nfunction iniciarApp() {\r\n    mostrarSeccion(); // Muestra y oculta las secciones\r\n    tabs(); // Cambia la secciÃ³n cuando se presionen los tabs\r\n    botonesPaginador(); // Agrega o quita los botones del paginador\r\n    paginaAnterior();\r\n    paginaSiguiente();\r\n    consultarAPI(); // Consulta la API en el backend de PHP\r\n    nombreCliente();\r\n}\r\n\r\n\r\nfunction mostrarSeccion() {\r\n    // Ocultar la seccion que tenga la clase de mostrar\r\n    const seccionAnterior = document.querySelector(\".mostrar\");\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove(\"mostrar\");\r\n    }\r\n    \r\n    // Seleccionar la seccion con el paso...\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n    seccion.classList.add(\"mostrar\");\r\n\r\n    // Quita la clase actual al tab anterior\r\n    const tabAnterior = document.querySelector(\".actual\");\r\n    if(tabAnterior) {\r\n        tabAnterior.classList.remove(\"actual\");\r\n    }\r\n\r\n    // Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n    tab.classList.add(\"actual\");\r\n}\r\n\r\n\r\nfunction tabs() {\r\n    const botones = document.querySelectorAll(\".tabs button\");\r\n\r\n    botones.forEach(boton => {\r\n        boton.addEventListener(\"click\", function(e) {\r\n            paso = parseInt(e.target.dataset.paso);\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n        });\r\n    })\r\n}\r\n\r\n\r\nfunction botonesPaginador() {\r\n    const paginaAnterior = document.querySelector(\"#anterior\");\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n    \r\n    if(paso === 1) {\r\n        paginaAnterior.classList.add(\"ocultar\");\r\n        paginaSiguiente.classList.remove(\"ocultar\");\r\n    } else if(paso === 3) {\r\n        paginaAnterior.classList.remove(\"ocultar\");\r\n        paginaSiguiente.classList.add(\"ocultar\");\r\n    } else {\r\n        paginaAnterior.classList.remove(\"ocultar\");\r\n        paginaSiguiente.classList.remove(\"ocultar\");\r\n    }\r\n    mostrarSeccion();\r\n}\r\n\r\n\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector(\"#anterior\");\r\n    paginaAnterior.addEventListener(\"click\", function() {\r\n        if(paso <= pasoInicial) return;\r\n        paso--;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\n\r\nfunction paginaSiguiente() {\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n    paginaSiguiente.addEventListener(\"click\", function() {\r\n        if(paso >= pasoFinal) return;\r\n        paso++;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\n\r\nasync function consultarAPI() {\r\n    try {\r\n        const url = \"http://localhost/appsalon/public/api/servicios\";\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();\r\n        mostrarServicios(servicios);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n        const {id, nombre, precio} = servicio;\r\n        \r\n        const nombreServicio = document.createElement(\"P\");\r\n        nombreServicio.classList.add(\"nombre-servicio\");\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement(\"P\");\r\n        precioServicio.classList.add(\"precio-servicio\");\r\n        precioServicio.textContent = `$${precio}`;\r\n\r\n        const servicioDiv = document.createElement(\"DIV\");\r\n        servicioDiv.classList.add(\"servicio\");\r\n        servicioDiv.dataset.idServicio = id;\r\n        servicioDiv.onclick = function() {\r\n            seleccionarServicio(servicio);\r\n        }\r\n\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n\r\n        document.querySelector(\"#servicios\").appendChild(servicioDiv);\r\n    });\r\n}\r\n\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    const {id} = servicio;\r\n    const {servicios} = cita;\r\n\r\n    // Identificar el elemento al que se le da clic\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    // Comprobar si un servicio ya fue agregado\r\n    if(servicios.some(agregado => agregado.id === id)) {\r\n        // Eliminarlo\r\n        cita.servicios = servicios.filter(agregado => agregado.id !== id);\r\n        divServicio.classList.remove(\"seleccionado\");\r\n    } else {\r\n        // Agregarlo\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add(\"seleccionado\");\r\n    }\r\n}\r\n\r\n\r\nfunction nombreCliente() {\r\n    cita.nombre = document.querySelector(\"#nombre\").value;\r\n    \r\n}"]}