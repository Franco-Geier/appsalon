{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaAnterior","paginaSiguiente","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","async","url","resultado","fetch","mostrarServicios","json","error","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divServicio","some","agregado","filter","value","inputFecha","hoy","Date","año","getFullYear","mes","String","getMonth","padStart","dia","getDate","min","diaSeleccionado","getUTCDay","includes","mostrarAlerta","horaCita","minutos","split","map","Number","Math","round","toString","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","resumen","firstChild","removeChild","Object","values","length","headingServicios","contenedorServicio","textoServicio","innerHTML","headingCita","fechaObj","year","fechaFormateada","UTC","toLocaleDateString","weekday","month","day","fechaCita","botonReservar","reservarCita","idServicios","datos","FormData","append","respuesta","method","body"],"mappings":"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","file":"bundle.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n    id: \"\",\r\n    nombre: \"\",\r\n    fecha: \"\",\r\n    hora: \"\",\r\n    servicios: []\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    iniciarApp();\r\n});\r\n\r\n\r\nfunction iniciarApp() {\r\n    mostrarSeccion(); // Muestra y oculta las secciones\r\n    tabs(); // Cambia la sección cuando se presionen los tabs\r\n    botonesPaginador(); // Agrega o quita los botones del paginador\r\n    paginaAnterior();\r\n    paginaSiguiente();\r\n\r\n    consultarAPI(); // Consulta la API en el backend de PHP\r\n    \r\n    idCliente();\r\n    nombreCliente(); // Añade el nombre del cliente al objeto de cita\r\n    seleccionarFecha(); // Añade la fecha de la cita en el objeto\r\n    seleccionarHora(); // Añade la hora de la cita en el objeto\r\n\r\n    mostrarResumen(); // Muestra el resumen de la cita\r\n}\r\n\r\n\r\nfunction mostrarSeccion() {\r\n    // Ocultar la seccion que tenga la clase de mostrar\r\n    const seccionAnterior = document.querySelector(\".mostrar\");\r\n    if(seccionAnterior) {\r\n        seccionAnterior.classList.remove(\"mostrar\");\r\n    }\r\n    \r\n    // Seleccionar la seccion con el paso...\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n    seccion.classList.add(\"mostrar\");\r\n\r\n    // Quita la clase actual al tab anterior\r\n    const tabAnterior = document.querySelector(\".actual\");\r\n    if(tabAnterior) {\r\n        tabAnterior.classList.remove(\"actual\");\r\n    }\r\n\r\n    // Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n    tab.classList.add(\"actual\");\r\n}\r\n\r\n\r\nfunction tabs() {\r\n    const botones = document.querySelectorAll(\".tabs button\");\r\n\r\n    botones.forEach(boton => {\r\n        boton.addEventListener(\"click\", function(e) {\r\n            paso = parseInt(e.target.dataset.paso);\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n        });\r\n    })\r\n}\r\n\r\n\r\nfunction botonesPaginador() {\r\n    const paginaAnterior = document.querySelector(\"#anterior\");\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n    \r\n    if(paso === 1) {\r\n        paginaAnterior.classList.add(\"ocultar\");\r\n        paginaSiguiente.classList.remove(\"ocultar\");\r\n    } else if(paso === 3) {\r\n        paginaAnterior.classList.remove(\"ocultar\");\r\n        paginaSiguiente.classList.add(\"ocultar\");\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove(\"ocultar\");\r\n        paginaSiguiente.classList.remove(\"ocultar\");\r\n    }\r\n    mostrarSeccion();\r\n}\r\n\r\n\r\nfunction paginaAnterior() {\r\n    const paginaAnterior = document.querySelector(\"#anterior\");\r\n    paginaAnterior.addEventListener(\"click\", function() {\r\n        if(paso <= pasoInicial) return;\r\n        paso--;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\n\r\nfunction paginaSiguiente() {\r\n    const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n    paginaSiguiente.addEventListener(\"click\", function() {\r\n        if(paso >= pasoFinal) return;\r\n        paso++;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\n\r\nasync function consultarAPI() {\r\n    try {\r\n        const url = \"http://localhost/appsalon/public/api/servicios\";\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();\r\n        mostrarServicios(servicios);\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\nfunction mostrarServicios(servicios) {\r\n    servicios.forEach(servicio => {\r\n        const {id, nombre, precio} = servicio;\r\n        \r\n        const nombreServicio = document.createElement(\"P\");\r\n        nombreServicio.classList.add(\"nombre-servicio\");\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement(\"P\");\r\n        precioServicio.classList.add(\"precio-servicio\");\r\n        precioServicio.textContent = `$${precio}`;\r\n\r\n        const servicioDiv = document.createElement(\"DIV\");\r\n        servicioDiv.classList.add(\"servicio\");\r\n        servicioDiv.dataset.idServicio = id;\r\n        servicioDiv.onclick = function() {\r\n            seleccionarServicio(servicio);\r\n        }\r\n\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n\r\n        document.querySelector(\"#servicios\").appendChild(servicioDiv);\r\n    });\r\n}\r\n\r\n\r\nfunction seleccionarServicio(servicio) {\r\n    const {id} = servicio;\r\n    const {servicios} = cita;\r\n\r\n    // Identificar el elemento al que se le da clic\r\n    const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    // Comprobar si un servicio ya fue agregado\r\n    if(servicios.some(agregado => agregado.id === id)) {\r\n        // Eliminarlo\r\n        cita.servicios = servicios.filter(agregado => agregado.id !== id);\r\n        divServicio.classList.remove(\"seleccionado\");\r\n    } else {\r\n        // Agregarlo\r\n        cita.servicios = [...servicios, servicio];\r\n        divServicio.classList.add(\"seleccionado\");\r\n    }\r\n}\r\n\r\n\r\nfunction idCliente() {\r\n    cita.id = document.querySelector(\"#id\").value;\r\n    \r\n}\r\n\r\n\r\nfunction nombreCliente() {\r\n    cita.nombre = document.querySelector(\"#nombre\").value;\r\n    \r\n}\r\n\r\n\r\nfunction seleccionarFecha() {\r\n    const inputFecha = document.querySelector(\"#fecha\");\r\n\r\n    // Bloquear fechas de fin de semana\r\n    inputFecha.addEventListener(\"focus\", function () {\r\n        const hoy = new Date();\r\n        const año = hoy.getFullYear();\r\n        const mes = String(hoy.getMonth() + 1).padStart(2, \"0\");\r\n        const dia = String(hoy.getDate()).padStart(2, \"0\");\r\n\r\n        // Establecer fecha mínima (hoy)\r\n        inputFecha.min = `${año}-${mes}-${dia}`;\r\n    });\r\n\r\n    inputFecha.addEventListener(\"input\", function (e) {\r\n        const diaSeleccionado = new Date(e.target.value).getUTCDay();\r\n\r\n        if ([6, 0].includes(diaSeleccionado)) { // 6 = Sábado, 0 = Domingo\r\n            e.target.value = \"\";\r\n            mostrarAlerta(\"Fines de semana no permitidos\", \"error\", \".formulario\");\r\n        } else {\r\n            cita.fecha = e.target.value;\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction seleccionarHora() {\r\n    const inputHora = document.querySelector(\"#hora\");\r\n    inputHora.addEventListener(\"input\", function(e) {\r\n        const horaCita = e.target.value;\r\n        let [hora, minutos] = horaCita.split(\":\").map(Number);\r\n\r\n        if (hora < 10 || hora > 18) {\r\n            e.target.value = \"\";\r\n            mostrarAlerta(\"Hora no válida\", \"error\", \".formulario\");\r\n            return;\r\n        }\r\n\r\n        // Redondear minutos al múltiplo de 15 más cercano\r\n        minutos = Math.round(minutos / 15) * 15;\r\n        if (minutos === 60) {\r\n            minutos = 0;\r\n            hora += 1;\r\n        }\r\n\r\n        // Actualizar el input con la hora corregida\r\n        e.target.value = `${hora.toString().padStart(2, \"0\")}:${minutos.toString().padStart(2, \"0\")}`;\r\n        cita.hora = e.target.value;\r\n    });\r\n}\r\n\r\n\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n    // Previene que se genere más de una alerta\r\n    const alertaPrevia = document.querySelector(\".alerta\");\r\n    if(alertaPrevia) {\r\n        alertaPrevia.remove();\r\n    }\r\n\r\n    // Scripting para crear la alerta\r\n    const alerta = document.createElement(\"DIV\");\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add(\"alerta\");\r\n    alerta.classList.add(tipo);\r\n\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n\r\n    if(desaparece) {\r\n        // Eliminar la alerta\r\n        setTimeout(() => {\r\n            alerta.remove();\r\n        }, 3000);\r\n    }\r\n}\r\n\r\n\r\nfunction mostrarResumen() {\r\n    const resumen = document.querySelector(\".contenido-resumen\");\r\n\r\n    while(resumen.firstChild) {\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n\r\n    if(Object.values(cita).includes(\"\") || cita.servicios.length === 0) {\r\n        mostrarAlerta(\"Faltan datos de servicios, fecha u hora\", \"error\", \".contenido-resumen\", false);\r\n        return;\r\n    }\r\n\r\n    const {nombre, fecha, hora, servicios} = cita;\r\n\r\n    // Heading para servicios en resumen\r\n    const headingServicios = document.createElement(\"H3\");\r\n    headingServicios.textContent = \"Resumen de Servicios\";\r\n    resumen.appendChild(headingServicios);\r\n\r\n    // Iterando y mostrando los servicios\r\n    servicios.forEach(servicio => {\r\n        const {id, precio, nombre} = servicio;\r\n        const contenedorServicio = document.createElement(\"DIV\");\r\n        contenedorServicio.classList.add(\"contenedor-servicio\");\r\n\r\n        const textoServicio = document.createElement(\"P\");\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement(\"P\");\r\n        precioServicio.innerHTML = `<span>Precio:</span> $${precio}`;\r\n    \r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n    });\r\n\r\n    // Heading para cita en resumen\r\n    const headingCita = document.createElement(\"H3\");\r\n    headingCita.textContent = \"Resumen de Cita\";\r\n    resumen.appendChild(headingCita);\r\n\r\n    const nombreCliente = document.createElement(\"P\");\r\n    nombreCliente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n    // Formatear la fecha en español\r\n    const fechaObj = new Date(fecha);\r\n    const mes = fechaObj.getMonth();\r\n    const dia = fechaObj.getDate() + 2;\r\n    const year = fechaObj.getFullYear();\r\n\r\n    const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n\r\n    const opciones = {weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\"};\r\n    const fechaFormateada = fechaUTC.toLocaleDateString(\"es-AR\", opciones);\r\n\r\n    const fechaCita = document.createElement(\"P\");\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n\r\n    const horaCita = document.createElement(\"P\");\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora} Horas`;\r\n\r\n    // Botón para crear una cita\r\n    const botonReservar = document.createElement(\"BUTTON\");\r\n    botonReservar.classList.add(\"boton\");\r\n    botonReservar.textContent = \"Reservar Cita\";\r\n    botonReservar.onclick = reservarCita;\r\n\r\n    resumen.appendChild(nombreCliente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n    resumen.appendChild(botonReservar);\r\n}\r\n\r\n\r\nasync function reservarCita() {\r\n    const {nombre, fecha, hora, servicios, id} = cita;\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n\r\n    const datos = new FormData();\r\n    datos.append(\"fecha\", fecha);\r\n    datos.append(\"hora\", hora);\r\n    datos.append(\"usuarioId\", id);\r\n    datos.append(\"servicios\", idServicios);\r\n\r\n    // console.log([...datos]);\r\n\r\n    // Petición hacia la api\r\n    const url = \"http://localhost/appsalon/public/api/citas\";\r\n\r\n    const respuesta = await fetch(url ,{\r\n        method: \"POST\",\r\n        body: datos\r\n    });\r\n\r\n    const resultado = await respuesta.json();\r\n    console.log(resultado);\r\n\r\n}"]}